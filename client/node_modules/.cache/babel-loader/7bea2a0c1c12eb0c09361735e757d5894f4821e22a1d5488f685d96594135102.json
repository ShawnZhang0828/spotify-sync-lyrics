{"ast":null,"code":"var _jsxFileName = \"C:\\\\Study\\\\VS Code\\\\spotify-lyrics-sync\\\\client\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport LoginButton from \"./LoginButton\";\nimport '../styles/login.css';\n\n// const CLIENT_ID = \"07f45b95ceac490ba0871336604107e0\"\n// const CLIENT_SECRET = \"2896dd203a234606ab0e2ba2a2aa5ad8\"\n// const SCOPE = \"user-read-currently-playing\"\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LOGIN_URI = \"http://localhost:8080/auth/login\";\n// const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\n// const RESPONSE_TYPE = \"code\"\n\nconst Header = _ref => {\n  _s();\n  let {\n    props\n  } = _ref;\n  const logout = async () => {\n    setCode(\"\");\n  };\n  const [code, setCode] = useState(\"\");\n  useEffect(() => {\n    const search = window.location.search;\n    let code = window.localStorage.getItem(\"code\");\n    if (!code && search) {\n      const urlParams = new URLSearchParams(window.location.search);\n      console.log(urlParams);\n      window.localStorage.setItem(\"code\", urlParams.get('code'));\n      window.localStorage.setItem(\"access-token\", urlParams.get('access_token'));\n      window.localStorage.setItem(\"refresh-token\", urlParams.get('refresh_token'));\n    }\n    setCode(code);\n  }, []);\n  return (\n    /*#__PURE__*/\n    // <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={login} text=\"login\"/>} </h1>\n    _jsxDEV(\"h1\", {\n      children: [\"Spotify React \", code ? /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: logout,\n        text: \"logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: logout,\n        text: \"login\",\n        href: LOGIN_URI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 79\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(Header, \"FE42fR7c//TxniZM6R7Q0xMAMis=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useEffect","useState","LoginButton","jsxDEV","_jsxDEV","LOGIN_URI","Header","_ref","_s","props","logout","setCode","code","search","window","location","localStorage","getItem","urlParams","URLSearchParams","console","log","setItem","get","children","onClick","text","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["C:/Study/VS Code/spotify-lyrics-sync/client/src/components/Header.js"],"sourcesContent":["import {useEffect, useState} from 'react'\r\nimport LoginButton from \"./LoginButton\"\r\nimport '../styles/login.css'\r\n\r\n// const CLIENT_ID = \"07f45b95ceac490ba0871336604107e0\"\r\n// const CLIENT_SECRET = \"2896dd203a234606ab0e2ba2a2aa5ad8\"\r\n// const SCOPE = \"user-read-currently-playing\"\r\nconst LOGIN_URI = \"http://localhost:8080/auth/login\"\r\n// const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\r\n// const RESPONSE_TYPE = \"code\"\r\n\r\nconst Header = ({ props }) => {\r\n\r\n  const logout = async () => {\r\n    setCode(\"\")\r\n  }\r\n  \r\n  const [code, setCode] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const search = window.location.search\r\n    let code = window.localStorage.getItem(\"code\")\r\n\r\n    if (!code && search) {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      console.log(urlParams);\r\n\r\n      window.localStorage.setItem(\"code\", urlParams.get('code'))\r\n      window.localStorage.setItem(\"access-token\", urlParams.get('access_token'))\r\n      window.localStorage.setItem(\"refresh-token\", urlParams.get('refresh_token'))\r\n      \r\n    }\r\n\r\n    setCode(code)\r\n  }, []);\r\n\r\n  return (\r\n    // <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={login} text=\"login\"/>} </h1>\r\n    <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={logout} text=\"login\" href={LOGIN_URI}/>} </h1>\r\n  )\r\n}\r\n\r\nexport default Header"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAO,qBAAqB;;AAE5B;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAG,kCAAkC;AACpD;AACA;;AAEA,MAAMC,MAAM,GAAGC,IAAA,IAAe;EAAAC,EAAA;EAAA,IAAd;IAAEC;EAAM,CAAC,GAAAF,IAAA;EAEvB,MAAMG,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzBC,OAAO,CAAC,EAAE,CAAC;EACb,CAAC;EAED,MAAM,CAACC,IAAI,EAAED,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,MAAMa,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACF,MAAM;IACrC,IAAID,IAAI,GAAGE,MAAM,CAACE,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAE9C,IAAI,CAACL,IAAI,IAAIC,MAAM,EAAE;MACnB,MAAMK,SAAS,GAAG,IAAIC,eAAe,CAACL,MAAM,CAACC,QAAQ,CAACF,MAAM,CAAC;MAC7DO,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;MAEtBJ,MAAM,CAACE,YAAY,CAACM,OAAO,CAAC,MAAM,EAAEJ,SAAS,CAACK,GAAG,CAAC,MAAM,CAAC,CAAC;MAC1DT,MAAM,CAACE,YAAY,CAACM,OAAO,CAAC,cAAc,EAAEJ,SAAS,CAACK,GAAG,CAAC,cAAc,CAAC,CAAC;MAC1ET,MAAM,CAACE,YAAY,CAACM,OAAO,CAAC,eAAe,EAAEJ,SAAS,CAACK,GAAG,CAAC,eAAe,CAAC,CAAC;IAE9E;IAEAZ,OAAO,CAACC,IAAI,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN;IAAA;IACE;IACAR,OAAA;MAAAoB,QAAA,GAAI,gBAAc,EAACZ,IAAI,gBAAGR,OAAA,CAACF,WAAW;QAACuB,OAAO,EAAEf,MAAO;QAACgB,IAAI,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,gBAAG1B,OAAA,CAACF,WAAW;QAACuB,OAAO,EAAEf,MAAO;QAACgB,IAAI,EAAC,OAAO;QAACK,IAAI,EAAE1B;MAAU;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,EAAC,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAK;AAElJ,CAAC;AAAAtB,EAAA,CA7BKF,MAAM;AAAA0B,EAAA,GAAN1B,MAAM;AA+BZ,eAAeA,MAAM;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
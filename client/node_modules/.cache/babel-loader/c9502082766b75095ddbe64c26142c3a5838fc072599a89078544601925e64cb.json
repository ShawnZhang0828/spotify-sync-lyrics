{"ast":null,"code":"var _jsxFileName = \"C:\\\\Study\\\\VS Code\\\\spotify-lyrics-sync\\\\client\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport qs from 'qs';\nimport { Buffer } from 'buffer';\nimport LoginButton from \"./LoginButton\";\nimport '../styles/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = \"07f45b95ceac490ba0871336604107e0\";\nconst CLIENT_SECRET = \"2896dd203a234606ab0e2ba2a2aa5ad8\";\nconst SCOPE = \"user-read-currently-playing\";\nconst LOGIN_URI = \"http://localhost:8080/auth/login\";\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst RESPONSE_TYPE = \"code\";\nconst Header = _ref => {\n  _s();\n  let {\n    props\n  } = _ref;\n  const logout = async () => {\n    setCode(\"\");\n    // try {\n    //   const response = await axios.get(`/api/auth/login`);\n    //   window.location.replace(response.data.url);\n    // } catch (error) {\n    //   console.error(error);\n    // }\n  };\n\n  const [code, setCode] = useState(\"\");\n  useEffect(() => {\n    const search = window.location.search;\n    let code = window.localStorage.getItem(\"code\");\n    console.log(urlParams);\n    if (!code && search) {\n      const urlParams = new URLSearchParams(window.location.search);\n      console.log(urlParams);\n\n      // getUserData(code).then(() => {\n      //   window.location.search = \"\"\n      //   window.localStorage.setItem(\"code\", code)\n      // })\n    }\n\n    setCode(code);\n  }, []);\n  return (\n    /*#__PURE__*/\n    // <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={login} text=\"login\"/>} </h1>\n    _jsxDEV(\"h1\", {\n      children: [\"Spotify React \", code ? /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: logout,\n        text: \"logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: logout,\n        text: \"login\",\n        href: LOGIN_URI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 79\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(Header, \"FE42fR7c//TxniZM6R7Q0xMAMis=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useEffect","useState","axios","qs","Buffer","LoginButton","jsxDEV","_jsxDEV","CLIENT_ID","CLIENT_SECRET","SCOPE","LOGIN_URI","AUTH_ENDPOINT","RESPONSE_TYPE","Header","_ref","_s","props","logout","setCode","code","search","window","location","localStorage","getItem","console","log","urlParams","URLSearchParams","children","onClick","text","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["C:/Study/VS Code/spotify-lyrics-sync/client/src/components/Header.js"],"sourcesContent":["import {useEffect, useState} from 'react'\r\nimport axios from 'axios';\r\nimport qs from 'qs'\r\nimport { Buffer } from 'buffer';\r\nimport LoginButton from \"./LoginButton\"\r\nimport '../styles/login.css'\r\n\r\nconst CLIENT_ID = \"07f45b95ceac490ba0871336604107e0\"\r\nconst CLIENT_SECRET = \"2896dd203a234606ab0e2ba2a2aa5ad8\"\r\nconst SCOPE = \"user-read-currently-playing\"\r\nconst LOGIN_URI = \"http://localhost:8080/auth/login\"\r\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\r\nconst RESPONSE_TYPE = \"code\"\r\n\r\nconst Header = ({ props }) => {\r\n\r\n  const logout = async () => {\r\n    setCode(\"\")\r\n    // try {\r\n    //   const response = await axios.get(`/api/auth/login`);\r\n    //   window.location.replace(response.data.url);\r\n    // } catch (error) {\r\n    //   console.error(error);\r\n    // }\r\n  }\r\n  \r\n  const [code, setCode] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const search = window.location.search\r\n    let code = window.localStorage.getItem(\"code\")\r\n    console.log(urlParams);\r\n\r\n    if (!code && search) {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      console.log(urlParams);\r\n      \r\n      // getUserData(code).then(() => {\r\n      //   window.location.search = \"\"\r\n      //   window.localStorage.setItem(\"code\", code)\r\n      // })\r\n    }\r\n\r\n    setCode(code)\r\n  }, []);\r\n\r\n  return (\r\n    // <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={login} text=\"login\"/>} </h1>\r\n    <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={logout} text=\"login\" href={LOGIN_URI}/>} </h1>\r\n  )\r\n}\r\n\r\nexport default Header"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,EAAE,MAAM,IAAI;AACnB,SAASC,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAO,qBAAqB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5B,MAAMC,SAAS,GAAG,kCAAkC;AACpD,MAAMC,aAAa,GAAG,kCAAkC;AACxD,MAAMC,KAAK,GAAG,6BAA6B;AAC3C,MAAMC,SAAS,GAAG,kCAAkC;AACpD,MAAMC,aAAa,GAAG,wCAAwC;AAC9D,MAAMC,aAAa,GAAG,MAAM;AAE5B,MAAMC,MAAM,GAAGC,IAAA,IAAe;EAAAC,EAAA;EAAA,IAAd;IAAEC;EAAM,CAAC,GAAAF,IAAA;EAEvB,MAAMG,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzBC,OAAO,CAAC,EAAE,CAAC;IACX;IACA;IACA;IACA;IACA;IACA;EACF,CAAC;;EAED,MAAM,CAACC,IAAI,EAAED,OAAO,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,MAAMqB,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACF,MAAM;IACrC,IAAID,IAAI,GAAGE,MAAM,CAACE,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC9CC,OAAO,CAACC,GAAG,CAACC,SAAS,CAAC;IAEtB,IAAI,CAACR,IAAI,IAAIC,MAAM,EAAE;MACnB,MAAMO,SAAS,GAAG,IAAIC,eAAe,CAACP,MAAM,CAACC,QAAQ,CAACF,MAAM,CAAC;MAC7DK,OAAO,CAACC,GAAG,CAACC,SAAS,CAAC;;MAEtB;MACA;MACA;MACA;IACF;;IAEAT,OAAO,CAACC,IAAI,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN;IAAA;IACE;IACAb,OAAA;MAAAuB,QAAA,GAAI,gBAAc,EAACV,IAAI,gBAAGb,OAAA,CAACF,WAAW;QAAC0B,OAAO,EAAEb,MAAO;QAACc,IAAI,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,gBAAG7B,OAAA,CAACF,WAAW;QAAC0B,OAAO,EAAEb,MAAO;QAACc,IAAI,EAAC,OAAO;QAACK,IAAI,EAAE1B;MAAU;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,EAAC,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAK;AAElJ,CAAC;AAAApB,EAAA,CApCKF,MAAM;AAAAwB,EAAA,GAANxB,MAAM;AAsCZ,eAAeA,MAAM;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Study\\\\VS Code\\\\spotify-lyrics-sync\\\\client\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport LoginButton from \"./LoginButton\";\nimport '../styles/login.css';\n\n// const CLIENT_ID = \"07f45b95ceac490ba0871336604107e0\"\n// const CLIENT_SECRET = \"2896dd203a234606ab0e2ba2a2aa5ad8\"\n// const SCOPE = \"user-read-currently-playing\"\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LOGIN_URI = \"http://localhost:8080/auth/login\";\n// const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\n// const RESPONSE_TYPE = \"code\"\n\nconst Header = _ref => {\n  _s();\n  let {\n    props\n  } = _ref;\n  const logout = async () => {\n    setCode(\"\");\n    window.localStorage.removeItem(\"code\");\n    window.localStorage.removeItem(\"access-token\");\n    window.localStorage.removeItem(\"refresh_token\");\n  };\n  const [code, setCode] = useState(\"\");\n  useEffect(() => {\n    const search = window.location.search;\n    let code = window.localStorage.getItem(\"code\");\n    if (!code && search) {\n      const urlParams = new URLSearchParams(window.location.search);\n      console.log(urlParams);\n      window.localStorage.setItem(\"code\", urlParams.get('code'));\n      window.localStorage.setItem(\"access-token\", urlParams.get('access_token'));\n      window.localStorage.setItem(\"refresh-token\", urlParams.get('refresh_token'));\n    }\n    setCode(code);\n  }, []);\n  return (\n    /*#__PURE__*/\n    // <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={login} text=\"login\"/>} </h1>\n    _jsxDEV(\"h1\", {\n      children: [\"Spotify React \", code ? /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: logout,\n        text: \"logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: logout,\n        text: \"login\",\n        href: LOGIN_URI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 79\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(Header, \"FE42fR7c//TxniZM6R7Q0xMAMis=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["useEffect","useState","LoginButton","jsxDEV","_jsxDEV","LOGIN_URI","Header","_ref","_s","props","logout","setCode","window","localStorage","removeItem","code","search","location","getItem","urlParams","URLSearchParams","console","log","setItem","get","children","onClick","text","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["C:/Study/VS Code/spotify-lyrics-sync/client/src/components/Header.js"],"sourcesContent":["import {useEffect, useState} from 'react'\r\nimport LoginButton from \"./LoginButton\"\r\nimport '../styles/login.css'\r\n\r\n// const CLIENT_ID = \"07f45b95ceac490ba0871336604107e0\"\r\n// const CLIENT_SECRET = \"2896dd203a234606ab0e2ba2a2aa5ad8\"\r\n// const SCOPE = \"user-read-currently-playing\"\r\nconst LOGIN_URI = \"http://localhost:8080/auth/login\"\r\n// const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\r\n// const RESPONSE_TYPE = \"code\"\r\n\r\nconst Header = ({ props }) => {\r\n\r\n  const logout = async () => {\r\n    setCode(\"\")\r\n    window.localStorage.removeItem(\"code\")\r\n    window.localStorage.removeItem(\"access-token\")\r\n    window.localStorage.removeItem(\"refresh_token\")\r\n  }\r\n  \r\n  const [code, setCode] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const search = window.location.search\r\n    let code = window.localStorage.getItem(\"code\")\r\n\r\n    if (!code && search) {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      console.log(urlParams);\r\n\r\n      window.localStorage.setItem(\"code\", urlParams.get('code'))\r\n      window.localStorage.setItem(\"access-token\", urlParams.get('access_token'))\r\n      window.localStorage.setItem(\"refresh-token\", urlParams.get('refresh_token'))\r\n      \r\n    }\r\n\r\n    setCode(code)\r\n  }, []);\r\n\r\n  return (\r\n    // <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={login} text=\"login\"/>} </h1>\r\n    <h1>Spotify React {code ? <LoginButton onClick={logout} text=\"logout\"/> : <LoginButton onClick={logout} text=\"login\" href={LOGIN_URI}/>} </h1>\r\n  )\r\n}\r\n\r\nexport default Header"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAO,qBAAqB;;AAE5B;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAG,kCAAkC;AACpD;AACA;;AAEA,MAAMC,MAAM,GAAGC,IAAA,IAAe;EAAAC,EAAA;EAAA,IAAd;IAAEC;EAAM,CAAC,GAAAF,IAAA;EAEvB,MAAMG,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzBC,OAAO,CAAC,EAAE,CAAC;IACXC,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IACtCF,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;IAC9CF,MAAM,CAACC,YAAY,CAACC,UAAU,CAAC,eAAe,CAAC;EACjD,CAAC;EAED,MAAM,CAACC,IAAI,EAAEJ,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,MAAMgB,MAAM,GAAGJ,MAAM,CAACK,QAAQ,CAACD,MAAM;IACrC,IAAID,IAAI,GAAGH,MAAM,CAACC,YAAY,CAACK,OAAO,CAAC,MAAM,CAAC;IAE9C,IAAI,CAACH,IAAI,IAAIC,MAAM,EAAE;MACnB,MAAMG,SAAS,GAAG,IAAIC,eAAe,CAACR,MAAM,CAACK,QAAQ,CAACD,MAAM,CAAC;MAC7DK,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;MAEtBP,MAAM,CAACC,YAAY,CAACU,OAAO,CAAC,MAAM,EAAEJ,SAAS,CAACK,GAAG,CAAC,MAAM,CAAC,CAAC;MAC1DZ,MAAM,CAACC,YAAY,CAACU,OAAO,CAAC,cAAc,EAAEJ,SAAS,CAACK,GAAG,CAAC,cAAc,CAAC,CAAC;MAC1EZ,MAAM,CAACC,YAAY,CAACU,OAAO,CAAC,eAAe,EAAEJ,SAAS,CAACK,GAAG,CAAC,eAAe,CAAC,CAAC;IAE9E;IAEAb,OAAO,CAACI,IAAI,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN;IAAA;IACE;IACAX,OAAA;MAAAqB,QAAA,GAAI,gBAAc,EAACV,IAAI,gBAAGX,OAAA,CAACF,WAAW;QAACwB,OAAO,EAAEhB,MAAO;QAACiB,IAAI,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,gBAAG3B,OAAA,CAACF,WAAW;QAACwB,OAAO,EAAEhB,MAAO;QAACiB,IAAI,EAAC,OAAO;QAACK,IAAI,EAAE3B;MAAU;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,EAAC,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAK;AAElJ,CAAC;AAAAvB,EAAA,CAhCKF,MAAM;AAAA2B,EAAA,GAAN3B,MAAM;AAkCZ,eAAeA,MAAM;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}